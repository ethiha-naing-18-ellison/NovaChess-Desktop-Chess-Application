<Window x:Class="NovaChess.App.Views.NewGameDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="New Game" Height="500" Width="400"
        WindowStartupLocation="CenterOwner"
        Background="{StaticResource DarkBackgroundBrush}"
        ResizeMode="NoResize">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <TextBlock Grid.Row="0" Text="New Chess Game" 
                   FontSize="24" FontWeight="Bold" 
                   Foreground="{StaticResource LightTextBrush}"
                   HorizontalAlignment="Center" Margin="0,0,0,20"/>
        
        <!-- Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- Game Mode -->
                <GroupBox Header="Game Mode" Margin="0,0,0,20"
                          Foreground="{StaticResource LightTextBrush}"
                          BorderBrush="{StaticResource AccentBrush}">
                    <StackPanel Margin="10">
                        <RadioButton x:Name="PvPRadio" Content="Player vs Player" 
                                   IsChecked="True" Margin="0,5"
                                   Foreground="{StaticResource LightTextBrush}"/>
                        <RadioButton x:Name="PvCRadio" Content="Player vs Computer" 
                                   Margin="0,5"
                                   Foreground="{StaticResource LightTextBrush}"/>
                    </StackPanel>
                </GroupBox>
                
                <!-- Time Control -->
                <GroupBox Header="Time Control" Margin="0,0,0,20"
                          Foreground="{StaticResource LightTextBrush}"
                          BorderBrush="{StaticResource AccentBrush}">
                    <StackPanel Margin="10">
                        <RadioButton x:Name="NoTimeRadio" Content="No Time Limit" 
                                   IsChecked="True" Margin="0,5"
                                   Foreground="{StaticResource LightTextBrush}"/>
                        <RadioButton x:Name="BlitzRadio" Content="Blitz (5 min)" 
                                   Margin="0,5"
                                   Foreground="{StaticResource LightTextBrush}"/>
                        <RadioButton x:Name="RapidRadio" Content="Rapid (15 min)" 
                                   Margin="0,5"
                                   Foreground="{StaticResource LightTextBrush}"/>
                        <RadioButton x:Name="ClassicalRadio" Content="Classical (30 min)" 
                                   Margin="0,5"
                                   Foreground="{StaticResource LightTextBrush}"/>
                        <RadioButton x:Name="CustomTimeRadio" Content="Custom Time" 
                                   Margin="0,5"
                                   Foreground="{StaticResource LightTextBrush}"/>
                        
                        <StackPanel Orientation="Horizontal" Margin="20,5,0,5" 
                                    Visibility="{Binding IsChecked, ElementName=CustomTimeRadio, Converter={StaticResource BooleanToVisibilityConverter}}">
                            <TextBlock Text="Minutes:" VerticalAlignment="Center" 
                                       Foreground="{StaticResource LightTextBrush}" Margin="0,0,10,0"/>
                            <TextBox x:Name="CustomMinutesTextBox" Width="60" 
                                     Text="10" VerticalAlignment="Center"/>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>
                
                <!-- AI Settings (only visible for PvC) -->
                <GroupBox x:Name="AISettingsGroup" Header="AI Settings" Margin="0,0,0,20"
                          Foreground="{StaticResource LightTextBrush}"
                          BorderBrush="{StaticResource AccentBrush}"
                          Visibility="Collapsed">
                    <StackPanel Margin="10">
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <TextBlock Text="Skill Level:" VerticalAlignment="Center" 
                                       Foreground="{StaticResource LightTextBrush}" Margin="0,0,10,0"/>
                            <Slider x:Name="SkillSlider" Minimum="1" Maximum="20" Value="10" 
                                    Width="150" VerticalAlignment="Center"/>
                            <TextBlock x:Name="SkillValueText" Text="10" 
                                       Foreground="{StaticResource AccentBrush}" 
                                       VerticalAlignment="Center" Margin="10,0,0,0"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <TextBlock Text="Search Depth:" VerticalAlignment="Center" 
                                       Foreground="{StaticResource LightTextBrush}" Margin="0,0,10,0"/>
                            <Slider x:Name="DepthSlider" Minimum="1" Maximum="30" Value="15" 
                                    Width="150" VerticalAlignment="Center"/>
                            <TextBlock x:Name="DepthValueText" Text="15" 
                                       Foreground="{StaticResource AccentBrush}" 
                                       VerticalAlignment="Center" Margin="10,0,0,0"/>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>
                
                <!-- Starting Position -->
                <GroupBox Header="Starting Position" Margin="0,0,0,20"
                          Foreground="{StaticResource LightTextBrush}"
                          BorderBrush="{StaticResource AccentBrush}">
                    <StackPanel Margin="10">
                        <RadioButton x:Name="StandardPositionRadio" Content="Standard Position" 
                                   IsChecked="True" Margin="0,5"
                                   Foreground="{StaticResource LightTextBrush}"/>
                        <RadioButton x:Name="CustomPositionRadio" Content="Custom Position (FEN)" 
                                   Margin="0,5"
                                   Foreground="{StaticResource LightTextBrush}"/>
                        
                        <TextBox x:Name="CustomFenTextBox" Margin="20,5,0,5" Height="60" 
                                 TextWrapping="Wrap" AcceptsReturn="True"
                                 Text="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"
                                 Visibility="{Binding IsChecked, ElementName=CustomPositionRadio, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
        
        <!-- Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button x:Name="CancelButton" Content="Cancel" Width="80" Height="30" 
                    Style="{StaticResource ModernButton}" Margin="0,0,10,0" Click="CancelButton_Click"/>
            <Button x:Name="StartButton" Content="Start Game" Width="100" Height="30" 
                    Style="{StaticResource ModernButton}" Click="StartButton_Click"/>
        </StackPanel>
    </Grid>
</Window>
